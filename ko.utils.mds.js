function ko_utils_mds() { "use strict";function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,l=[],s=!0,d=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){d=!0,i=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _regeneratorRuntime(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */_regeneratorRuntime=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var a=t&&t.prototype instanceof w?t:w,o=Object.create(a.prototype),l=new j(r||[]);return i(o,"_invoke",{value:k(e,n,l)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f="suspendedStart",v="suspendedYield",p="executing",h="completed",g={};function w(){}function b(){}function m(){}var y={};d(y,o,(function(){return this}));var C=Object.getPrototypeOf,$=C&&C(C(M([])));$&&$!==n&&r.call($,o)&&(y=$);var E=m.prototype=w.prototype=Object.create(y);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,l){var s=c(e[i],e,a);if("throw"!==s.type){var d=s.arg,u=d.value;return u&&"object"==_typeof(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):t.resolve(u).then((function(e){d.value=e,o(d)}),(function(e){return n("throw",e,o,l)}))}l(s.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function k(t,n,r){var i=f;return function(a,o){if(i===p)throw new Error("Generator is already running");if(i===h){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var l=r.delegate;if(l){var s=A(l,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var d=c(t,n,r);if("normal"===d.type){if(i=r.done?h:v,d.arg===g)continue;return{value:d.arg,done:r.done}}"throw"===d.type&&(i=h,r.method="throw",r.arg=d.arg)}}}function A(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=c(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function M(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(_typeof(t)+" is not iterable")}return b.prototype=m,i(E,"constructor",{value:m,configurable:!0}),i(m,"constructor",{value:b,configurable:!0}),b.displayName=d(m,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,d(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},x(S.prototype),d(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new S(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},x(E),d(E,s,"Generator"),d(E,o,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=M,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(O),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return l.type="throw",l.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],l=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),d=r.call(o,"finallyLoc");if(s&&d){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;O(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:M(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _createForOfIteratorHelper(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){l=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var __awaiter=window.__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(e){a(e)}}function l(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,l)}s((r=r.apply(e,t||[])).next())}))},ChipSoft=window.ChipSoft;!function(e){!function(t){var n=this,r=window.ko,i="for",a="template",o="value",l="item",s="index",d="includeDestroyed",u="afterAdd",c="beforeRemove",f="afterRender",v="beforeMove",p="afterMove",h="template";t.init=function(){var t;function g(e){var t;return{attr:function(){return e.itemField.attr},viewItem:function(){return t||(t=function(e){var t,n={model:function(){return e.item.itemModel},fieldRefs:function(){if(!t){t=[];var r,i=_createForOfIteratorHelper(e.item.fields.nav.viewNode.viewFields.fieldRef);try{var a=function(){var i=r.value;t.push({attr:function(){return e.item.fields[i.attr.name].attr},viewItem:function(){return n}})};for(i.s();!(r=i.n()).done;)a()}catch(e){i.e(e)}finally{i.f()}}return t}};return n}(e))}}}r.bindingHandlers.csFlagIcon=t={init:function(e,n,r,i,a){var o=e;n()&&(o.className+=" cs-icon-svg-flag",t.update(e,n))},update:function(t,n){var r=n(),i=t,a=e.Utilities.StringUtil.format(getComputedStyle(i).content,r.toLowerCase()),o=location.origin+e.PageManager.csIconsPath;a.startsWith('"../icons/')?a='"'+o+a.substring(9):a.startsWith("../icons/")&&(a=o+a.substring(8)),i.style.setProperty("--cs-flag-url","url("+a+")")}},r.bindingHandlers.csFlagIconSquared={init:function(e,n,r,i,a){e.className+=" cs-icon-svg-flag cs-icon-svg-squared",t.update(e,n)},update:function(e,n){t.update(e,n)}},r.bindingHandlers.csAppDownload={init:function(e,t,n,i,a){e.className+=" cs-app-download",r.bindingHandlers.csAppDownload.update(e,t)},update:function(t,n){var r=n(),i="appstore"===r.store?"../images/app-download/appstore_{0}.svg":"googleplay"===r.store?"../images/app-download/googleplay_{0}.png":null;if(!i)throw new Error("Unknown store: "+r.store);var a=t;i=e.Utilities.StringUtil.format(i,r.language),a.className+=" cs-app-store-"+r.store,a.style.setProperty("--cs-app-download-url","url("+i+")")}},r.bindingHandlers.csNumericJs={init:function(t,n,i,a,o){var l=n(),s=e.Client.numberfield(t.id,l.initValue,l.decAllowed,l.negAllowed,l.minDecLength,l.maxDecLength,l.minVal,l.maxVal,l.isRequired,l.sepReplacer,l.placeHolder,l.updateOnBlur,l.updateAfterDelay);r.utils.domNodeDisposal.addDisposeCallback(t,(function(){s.dispose()}))}},r.bindingHandlers.csSingleInputNumberField={init:function(t,n){var i=r.unwrap(n());new e.Client.SingleInputNumberField(t,i).init()},update:function(e,t){}},r.bindingHandlers.csThreeStateJs={init:function(t,n,r,i,a){e.Client.initThreeState(jQuery(t))}},r.bindingHandlers.csToggleNextElement={init:function(e,t,n,i,a){var o=r.unwrap(t());r.utils.registerEventHandler(e,"click",(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),o?jQuery(e).next("."+o).toggle():jQuery(e).next().toggle()}))}},r.bindingHandlers.csScrollIntoView={init:function(e,t,n,i,a){var o,l;function s(t,n){if(!0===t){var r=100;n&&n.delay&&(r=n.delay),window.setTimeout((function(){e.scrollIntoView(!0)}),r)}}function d(e){var t;l&&(l.dispose(),l=void 0),(t=e)===Object(t)?r.isObservable(e.condition)?l=e.condition.subscribe((function(t){s(t,e)})):s(e.condition,e):s(e)}var u=t();r.isObservable(u)?o=u.subscribe((function(e){d(e)})):d(u),r.utils.domNodeDisposal.addDisposeCallback(e,(function(){l&&(l.dispose(),l=void 0),o&&(o.dispose(),o=void 0)}))}},r.bindingHandlers.autoFocus={init:function(e,t,n,i,a){var o=r.unwrap(t())||{},l=!!o.hasOwnProperty("enabled")&&o.enabled,s=!!o.hasOwnProperty("selectAll")&&o.selectAll,d=!!o.hasOwnProperty("keepInputFocus")&&o.keepInputFocus;setTimeout((function(){if(l&&e.focus(),s&&e.select(),d){e.addEventListener("blur",(function e(t){if(t instanceof FocusEvent){var n=t.target,r=t.relatedTarget&&jQuery(t.relatedTarget).is(".cs-numeric-input-box:visible, .cs-day-input, .cs-month-input, .cs-year-input, input[type='email']:visible,\n                                input[type='number']:visible, input[type='tel']:visible, input[type='text']:visible:not(.input-spacer, .d, .m, .y), textarea:visible"),i=jQuery(t.target).parents("#keyboard_panel").length>0;r?(n.removeEventListener("blur",e),t.relatedTarget.addEventListener("blur",e)):i||(document.body.contains(n)?n.focus():n.removeEventListener("blur",e))}}))}}),0)}},r.bindingHandlers.csRoot={init:function(t,n,i,a,o){var l=document.getElementById(o.$root.clientId);if(l){var s=l.parentElement;s.className&&-1!==s.className.indexOf("cs-wp-")?a.csWpTitle=jQuery(s).data("title"):s=l;var d=r.observable(!1);if(r.isObservable(a.isLoading)){var u=a.isLoading.subscribe((function(e){e||(u.dispose(),d(!0))}));e.PageManager.onAfterCurrentActions((function(){d(!0),u.dispose()}))}else d(!0);var c={css:function(){return{"cs-wp-state-instantiating-v2":!1,"cs-wp-state-hidden":r.isObservable(a.visible)&&!a.visible(),"cs-wp-state-initializing-v2":!d()}}};r.applyBindingAccessorsToNode(s,c,o)}}},r.bindingHandlers.csFieldRefRenderHandler={init:function(t,n,i,a,o){e.PageManager.withService("Api",(function(e){var i=r.unwrap(n()),a=e.view.fieldRef.renderHandlers[i.handler];a&&a.init&&a.init(t,g(i))}))},update:function(t,n,i,a,o){e.PageManager.withService("Api",(function(e){var i=r.unwrap(n()),a=e.view.fieldRef.renderHandlers[i.handler];a&&a.update&&a.update(t,g(i))}))}},r.bindingHandlers.csFieldRefPreRenderHandler={update:function(t,n,i,a,o){e.PageManager.withService("Api",(function(e){var t=r.unwrap(n()),i=e.view.fieldRef.preRenderHandlers[t.handler];i&&i.update&&i.update(g(t))}))}},r.bindingHandlers.csThreeStateJsInput={init:function(t,n,i,a,o){var l=i.get("value"),s=r.unwrap(l);e.Client.applyThreeState(s,jQuery(t).closest(".cs-threestate"))}},r.bindingHandlers.autoSizeTextInput={fakeEl:null,init:function(e,t,n,i,a){var o=jQuery(e);o.on("input",(function(){var e=o.innerWidth()-o.width(),t=function(e,t){if(!r.bindingHandlers.autoSizeTextInput.fakeEl){var n=document.createElement("span"),i=jQuery(n);r.bindingHandlers.autoSizeTextInput.fakeEl=i.hide().appendTo(document.body)}return r.bindingHandlers.autoSizeTextInput.fakeEl.text(e.val()||e.text()||e.attr("placeholder")).css("font",t||e.css("font")),r.bindingHandlers.autoSizeTextInput.fakeEl.width()}(o);o.css({width:t+e+10})})).trigger("input")}},r.bindingHandlers.csCheckbox={init:function(e,t,n,i,a){var o,l=t(),s=l,d=!1;"object"===_typeof(l)&&(s=l.value,o=l.enabled,d=r.unwrap(l.presentationOnly));var u=r.utils.unwrapObservable(s),c=jQuery(e),f=c;jQuery(e).is(".cs-checkbox-wrapper,.cs-radio-wrapper")&&(c=jQuery(e).children(".cs-checkbox,.cs-radio"));var v="cs-checkbox-checked",p="cs-checkbox-disabled";if(c.is(".cs-radio")&&(v="cs-radio-checked",p="cs-radio-disabled"),u&&c.addClass(v),r.isObservable(s)){d||(r.utils.registerEventHandler(e,"click",(function(e){var t=c.hasClass(v);e.preventDefault?e.preventDefault():e.returnValue=!1,f.hasClass(p)||(!1!==n.get("clickBubble")||(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()),s(!t))})),f.attr("tabindex",0),f.attr("aria-checked",s()),f.attr("role","checkbox"));var h=s.subscribe((function(e){d||f.attr("aria-checked",e),e?c.addClass(v):c.removeClass(v)}));r.utils.domNodeDisposal.addDisposeCallback(e,(function(){h.dispose()}))}if(void 0!==o){var g=r.utils.unwrapObservable(o);f.toggleClass(p,!g),c.toggleClass(p,!g),f.attr("tabindex",!d&&g?0:-1),r.isObservable(o)&&o.subscribe((function(e){f.toggleClass(p,!e),c.toggleClass(p,!e),f.attr("tabindex",!d&&e?0:-1)}))}}},r.bindingHandlers.csSwitchButton={init:function(e,t,n,i,a){var o,l=t(),s=l;"object"===_typeof(l)&&(s=l.value,o=l.enabled);var d=r.utils.unwrapObservable(s),u=jQuery(e);function c(t){var r=u.hasClass("cs-switchinput-on");(t.preventDefault?t.preventDefault():t.returnValue=!1,jQuery(e).hasClass("cs-switchinput-disabled"))||(!1!==n.get("clickBubble")||(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()),s(!r))}if(d&&u.addClass("cs-switchinput-on").addClass("cs-color-primary"),r.isObservable(s)){r.utils.registerEventHandler(e,"click",c),r.utils.registerEventHandler(e,"keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||c(e)}));var f=s.subscribe((function(e){e?u.addClass("cs-switchinput-on").addClass("cs-color-primary"):u.removeClass("cs-switchinput-on").removeClass("cs-color-primary")}));r.utils.domNodeDisposal.addDisposeCallback(e,(function(){f.dispose()}))}if(void 0!==o){var v=r.utils.unwrapObservable(o);u.toggleClass("cs-switchinput-disabled",!v),r.isObservable(o)&&o.subscribe((function(e){u.toggleClass("cs-switchinput-disabled",!e)}))}}},r.bindingHandlers.csSwitchButtonField={init:function(e,t,n,i,a){if(!a.$data)throw new Error("$data is undefined");if(!a.$data.nav)throw new Error("$data.nav is undefined");if(!a.$data.attr)throw new Error("$data.attr is undefined");if(!a.$data.attr.name)throw new Error("$data.attr.name is undefined");if(!a.$data.attr.switchButtonAction)throw new Error("$data.attr.switchButtonAction is undefined");if(!a.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!a.$data.nav.viewModel.generateFieldId)throw new Error("$data.nav.viewModel.generateFieldId is undefined");if(!a.$data.nav.viewModel.requestInfo)throw new Error("$data.nav.viewModel.requestInfo is undefined");if(!a.$data.nav.viewModel.executeClientAction)throw new Error("$data.nav.viewModel.executeClientAction is undefined");var o=!0;!1===a.$data.attr.switchButtonEnabled&&(o=!1);var l=!0===a.$data.attr.value,s=jQuery(e);function d(t){var n=s.hasClass("cs-switchinput-on");(t.preventDefault?t.preventDefault():t.returnValue=!1,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),jQuery(e).hasClass("cs-switchinput-disabled"))||(!n?s.addClass("cs-switchinput-on").addClass("cs-color-primary"):s.removeClass("cs-switchinput-on").addClass("cs-color-primary"),a.$data.nav.viewModel.executeClientAction(a.$data.attr.switchButtonAction,{value:!n},a.$data.nav.parent.nav.parent))}l&&s.addClass("cs-switchinput-on").addClass("cs-color-primary"),r.utils.registerEventHandler(e,"click",d),r.utils.registerEventHandler(e,"keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||d(e)})),o||s.toggleClass("cs-switchinput-disabled",!0)}};var w=0;r.bindingHandlers.csOptionsField={init:function(t,i,a,o,l){var s,d,u,c,f,v,p,h,g,b,m,y,C,$,E,x,S,k,A=null===(s=i())||void 0===s?void 0:s.properties,I=r.observableArray([]);if(A){if(!A.options)throw new Error("options are undefined");var O=A.options;O&&r.isObservable(O)&&O.push?I=O:O&&!r.isObservable(O)&&O.push?I(O):O&&e.PageManager.logError("csMultiStateField: expects options to be an (observable) {value:any, label: string} Array")}else{if(!(null===(d=null==l?void 0:l.$data)||void 0===d?void 0:d.attr))throw new Error("csMultiStateField: expects a bindingValue or viewField attributes.");if(!l.$data.nav)throw new Error("$data.nav is undefined");if(!(null===(c=null===(u=l.$data)||void 0===u?void 0:u.attr)||void 0===c?void 0:c.optionSwitchAction))throw new Error("$data.attr.optionSwitchAction is undefined");if(!(null===(v=null===(f=l.$data)||void 0===f?void 0:f.attr)||void 0===v?void 0:v.optionValues))throw new Error("$data.attr.optionValues is undefined");if(!l.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!l.$data.nav.viewModel.executeClientAction)throw new Error("$data.nav.viewModel.executeClientAction is undefined");var j=null===(h=null===(p=null==l?void 0:l.$data)||void 0===p?void 0:p.attr)||void 0===h?void 0:h.optionValues;if(j){var M=j.split(l.$data.attr.optionSplitChar||"|"),T=null===(g=l.$data.attr.optionLabels)||void 0===g?void 0:g.split(l.$data.attr.optionSplitChar||"|"),_=[l.$data.attr.optionOnText,l.$data.attr.optionOffText],H=_[0],P=_[1],D=[i().onText,i().offText],L=D[0],F=D[1];M&&T&&M.length<=T.length?I(M.map((function(e,t){return{inputValue:e,displayValue:T[t]}}))):M&&M.length>2?I(M.map((function(e,t){return{inputValue:e,displayValue:e}}))):I(M.map((function(e,t){return{inputValue:e,displayValue:[null!=H?H:L,null!=P?P:F][t]}})))}else e.PageManager.logError("csMultiStateField: expects optionValues")}var N={inputValue:r.observable(null===(m=null===(b=null==l?void 0:l.$data)||void 0===b?void 0:b.attr)||void 0===m?void 0:m.value),options:I,inputEnabled:r.observable(!(!1===(null===(C=null===(y=null==l?void 0:l.$data)||void 0===y?void 0:y.attr)||void 0===C?void 0:C.optionsEnabled))),tempDisabled:r.observable(!1),inputCssClass:r.observable(""),inputStyle:r.observable("flex-basis:".concat(Math.round(1e4/(null!==($=I().length)&&void 0!==$?$:1))/100,"%")),switchAction:null,isRadioList:null===(x=null===(E=null==l?void 0:l.$data)||void 0===E?void 0:E.attr)||void 0===x?void 0:x.isRadioList,fieldNameUnique:A?(null===(k=null==l?void 0:l.$root)||void 0===k?void 0:k.uniqueId)+"_optionsField_"+w:(null===(S=null==l?void 0:l.$root)||void 0===S?void 0:S.generateFieldId(null==l?void 0:l.$data))+"_optionsField"};w++,A&&(N=Object.assign(Object.assign({},N),A));N.inputValue.csSubscribeChanged((function(e,t){return __awaiter(n,void 0,void 0,_regeneratorRuntime().mark((function n(){var r,i;return _regeneratorRuntime().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!N.tempDisabled()){n.next=4;break}N.inputValue.csSilentUpdate(t),n.next=14;break;case 4:if(N.tempDisabled(!0),A){n.next=10;break}return n.next=8,l.$data.nav.viewModel.executeClientAction(null===(i=null===(r=l.$data)||void 0===r?void 0:r.attr)||void 0===i?void 0:i.optionSwitchAction,{value:e,previousValue:t,fieldContext:V},l.$data.nav.parent.nav.parent);case 8:n.next=13;break;case 10:if(!N.switchAction){n.next=13;break}return n.next=13,N.switchAction({value:e,previousValue:t,fieldContext:V});case 13:N.tempDisabled(!1);case 14:case"end":return n.stop()}}),n)})))}),N);var V={csOptionsField:N},B=l.extend(V);return r.applyBindingsToDescendants(B,t),{controlsDescendantBindings:!0}}},r.subscribable.fn.csSubscribeChanged=function(e,t){var n,r=t?e.bind(t):e;this.subscribe((function(e){n=e}),void 0,"beforeChange"),this.subscribe((function(e){r(e,n)}))},r.observable.fn.csSilentUpdate=function(e){this.prevNotify=this.notifySubscribers,this.notifySubscribers=function(){return!1},this(e),this.notifySubscribers=this.prevNotify},r.bindingHandlers.csFavoriteButtonField={init:function(e,t,n,i,a){if(!a.$data)throw new Error("$data is undefined");if(!a.$data.nav)throw new Error("$data.nav is undefined");if(!a.$data.attr)throw new Error("$data.attr is undefined");if(!a.$data.attr.name)throw new Error("$data.attr.name is undefined");if(!a.$data.attr.favoriteButtonAction)throw new Error("$data.attr.favoriteButtonAction is undefined");if(!a.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!a.$data.nav.viewModel.generateFieldId)throw new Error("$data.nav.viewModel.generateFieldId is undefined");if(!a.$data.nav.viewModel.requestInfo)throw new Error("$data.nav.viewModel.requestInfo is undefined");if(!a.$data.nav.viewModel.executeClientAction)throw new Error("$data.nav.viewModel.executeClientAction is undefined");var o=!0;!1===a.$data.attr.favoriteButtonEnabled&&(o=!1);var l=!0===a.$data.attr.value,s=jQuery(e);function d(t){var n=s.hasClass("cs-favoritebutton-on");(t.preventDefault?t.preventDefault():t.returnValue=!1,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),jQuery(e).hasClass("cs-favoritebutton-disabled"))||(!n?s.addClass("cs-favoritebutton-on"):s.removeClass("cs-favoritebutton-on"),a.$data.nav.viewModel.executeClientAction(a.$data.attr.favoriteButtonAction,{value:!n},a.$data.nav.parent.nav.parent))}l&&s.addClass("cs-favoritebutton-on");r.utils.registerEventHandler(e,"click",d),r.utils.registerEventHandler(e,"keydown",(function(e){13!==e.keyCode&&32!==e.keyCode||d(e)})),o||jQuery(e).toggleClass("cs-favoritebutton-disabled",!0)}},r.bindingHandlers.csDateFieldJs={init:function(t,n,i,a,o){var l=i.get("value"),s=r.unwrap(l);t.value=s;var d=n(),u=l.subscribe((function(e){e?(r.tasks.runEarly(),jQuery(t).val(e).trigger("change")):jQuery(t).val("").trigger("change")}),t,"change"),c=!1;r.utils.domNodeDisposal.addDisposeCallback(t,(function(){c=!0,u.dispose()})),e.PageManager.notifyLoadStart(),setTimeout((function(){if(!c){var n=r.unwrap(d)||{},i=!n.hasOwnProperty("showCalendar")||r.unwrap(n.showCalendar),a=n.hasOwnProperty("minDate")&&n.minDate?n.minDate:null,l=n.hasOwnProperty("maxDate")&&n.maxDate?n.maxDate:null,s={attr:function(){return{min:a,max:l}}};r.applyBindingAccessorsToNode(t,s,o),e.Client.showDatePicker(t.name,t.id,i,l,a,"c-1000:c+1000"),e.PageManager.notifyLoadEnd()}}),0)}},r.bindingHandlers.csTimeFieldJs={init:function(t){e.Client.showTimePicker(t.id)}},r.bindingHandlers.csBooleanFieldJs={init:function(e,t,n){var i=e.id,a=document.getElementById(i+"_C"),o=n.get("value");if("true"===r.unwrap(o)&&(a.checked=!0),jQuery(a).change((function(){this.checked?jQuery("#"+i).val("true").change():jQuery("#"+i).val("false").change()})),r.isObservable(o)){var l=o.subscribe((function(e){!function(e){a.checked="true"===e}(e)}));r.utils.domNodeDisposal.addDisposeCallback(e,(function(){l.dispose()}))}}},r.bindingHandlers.csLookupSearchbox={init:function(t,n,i,a,o){if(!o.$data)throw new Error("$data is undefined");if(!o.$data.nav)throw new Error("$data.nav is undefined");if(!o.$data.attr)throw new Error("$data.attr is undefined");if(!o.$data.attr.name)throw new Error("$data.attr.name is undefined");if(!o.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!o.$data.nav.viewModel.generateFieldId)throw new Error("$data.nav.viewModel.generateFieldId is undefined");if(!o.$data.nav.viewModel.requestInfo)throw new Error("$data.nav.viewModel.requestInfo is undefined");var l=o;r.applyBindingsToDescendants(l,t);var s,d=n(),u=!1;return"object"===_typeof(d)?(u=!0===d.multiSelect,s=d.value):s=d,e.Client.lookupSearchbox(o.$data.nav.viewModel.generateFieldId(o.$data),o.$data.nav.viewModel.requestInfo,o.$data.nav.viewModel.serviceRequestUrl,o.$item?o.$item.objectId:null,o.$data.attr.name,o.$data.attr.lookupDisplayFields,o.$data.attr.lookupPrimaryDisplayField,u,!u&&!(!0===o.$data.attr.required||!0===o.$data.attr.noEmptyItem),o.$data.attr.emptyItemText,s),{controlsDescendantBindings:!0}}},r.bindingHandlers.csInputActionSearchbox={init:function(t,n,i,a,o){if(!o.$data)throw new Error("$data is undefined");if(!o.$data.nav)throw new Error("$data.nav is undefined");if(!o.$data.attr)throw new Error("$data.attr is undefined");if(!o.$data.attr.name)throw new Error("$data.attr.name is undefined");if(!o.$data.attr.inputAction)throw new Error("$data.attr.inputAction is undefined");if(!o.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!o.$data.nav.viewModel.generateFieldId)throw new Error("$data.nav.viewModel.generateFieldId is undefined");if(!o.$data.nav.viewModel.requestInfo)throw new Error("$data.nav.viewModel.requestInfo is undefined");if(!o.$data.nav.viewModel.executeClientAction)throw new Error("$data.nav.viewModel.executeClientAction is undefined");var l=o;r.applyBindingsToDescendants(l,t);var s,d=n(),u=!1;return"object"===_typeof(d)?(u=!0===d.multiSelect,s=d.value):s=d,e.Client.inputActionSearchbox(o.$data.nav.viewModel.generateFieldId(o.$data),o.$data.nav.viewModel.requestInfo,o.$data.nav.viewModel.serviceRequestUrl,o.$item?o.$item.objectId:null,o.$data.attr.inputAction,(function(e){return o.$data.nav.viewModel.executeClientAction(o.$data.attr.inputAction,e,o.$data)}),u,!u&&!(!0===o.$data.attr.required||!0===o.$data.attr.noEmptyItem),o.$data.attr.emptyItemText,s),{controlsDescendantBindings:!0}}},r.bindingHandlers.csInputChangedAction={init:function(e,t,n,i,a){if(!a.$data)throw new Error("$data is undefined");if(!a.$data.nav)throw new Error("$data.nav is undefined");if(!a.$data.attr)throw new Error("$data.attr is undefined");if(!a.$data.attr.name)throw new Error("$data.attr.name is undefined");if(!a.$data.nav.viewModel)throw new Error("$data.nav.viewModel is undefined");if(!a.$data.nav.viewModel.generateFieldId)throw new Error("$data.nav.viewModel.generateFieldId is undefined");if(!a.$data.nav.viewModel.requestInfo)throw new Error("$data.nav.viewModel.requestInfo is undefined");if(!a.$data.nav.viewModel.executeClientAction)throw new Error("$data.nav.viewModel.executeClientAction is undefined");var o=t();if(a.$data.attr.inputChangedAction&&r.isObservable(o)){var l=o.subscribe((function(e){a.$data.nav.viewModel.executeClientAction(a.$data.attr.inputChangedAction,null,a.$data)}));r.utils.domNodeDisposal.addDisposeCallback(e,(function(){l.dispose()}))}}},r.bindingHandlers.csItemFieldCommandAction={init:function(t,n,i,a,o){if(!(o.$data instanceof e.Views.ItemFieldNode))throw new Error("Not an item field node");if(o.$data.attr.commandAction){r.utils.registerEventHandler(t,"click",(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1,e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation();for(var t=null,n=o.$data.nav,i=n.parent.nav.parent.commands.commandRef(),a=0;a<i.length;a++)if(i[a].attr.name===o.$data.attr.commandAction){t=i[a];break}t&&!0===r.unwrap(t.attr.isEnabled)&&n.viewModel.onCommand.call(n.viewModel,t.attr.name,t,n.parent.nav.parent)}))}}},r.bindingHandlers.csDelayedValue={init:function(e,t,n,i,a){var l=a;return r.applyBindingsToDescendants(l,e),r.bindingHandlers[o].init(e,t,n,i,a),{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){r.bindingHandlers[o].update(e,t,n,i,a)}},r.bindingHandlers.csLoading={update:function(e,t,n){e.classList.add("cs-loader-container");var i=t(),a=r.unwrap(i),o=n.get("csLoadingOptions");if(o&&(o=r.unwrap(o)),o||(o=null),a.viewModel&&a.viewModel.notifyLoadingStart&&a.viewModel.notifyLoadingStop&&a.property&&a.isLoading){var l=r.unwrap(a.isLoading);!0===l?a.viewModel.notifyLoadingStart(e,a.property,o):!1===l&&a.viewModel.notifyLoadingStop(e,a.property)}}},r.bindingHandlers.chart={init:function(e,t,n,i,a){var o=r.unwrap(n.get("chart"));o&&(o.chart=new Chart.Chart(e,o.config))}},r.bindingHandlers.educationItemiFrameResizer={after:["render"],init:function(e,t,n,i,a){var o=e;if(o){var l=function(){o.height="100%",o.width="100%",o.height=o.contentDocument.body.scrollHeight.toString(),o.width=o.contentDocument.body.scrollWidth.toString()},s=function(){var e;(null===(e=o.contentDocument)||void 0===e?void 0:e.querySelector(".cs-education-item"))&&window.addEventListener("resize",l),window.dispatchEvent(new Event("resize"))};o.addEventListener("load",s),r.utils.domNodeDisposal.addDisposeCallback(o,(function(){o.removeEventListener("load",s),window.removeEventListener("resize",l)}))}}},r.bindingHandlers.enterAndSpaceKey={init:function(e,t,n,r,i){var a=t();jQuery(e).keydown((function(e){var t=e.which?e.which:e.keyCode;return 13!==t&&32!==t||(a.call(r),!1)}))}},r.bindingHandlers.enterKey={init:function(e,t,n,r,i){var a=t();jQuery(e).keydown((function(e){return 13!==(e.which?e.which:e.keyCode)||(a.call(r),!1)}))}},r.bindingHandlers.captureEvent={init:function(e,t){for(var n=t(),r=function(){var t=_slicedToArray(a[i],2),n=t[0],r=t[1];r instanceof Function&&e.addEventListener(n,(function(e){return e.stopPropagation(),e.cancelBubble=!0,r(e)}),!0)},i=0,a=Object.entries(n);i<a.length;i++)r()}},r.bindingHandlers.csSelect={init:function(e,t,n,i,a){var o="cs-select",l="cs-select-state-placeholder",s="cs-select-has-placeholder",d="cs-select-state-open",u="cs-select-has-hidden-placeholder",c=t(),f=n(),v=jQuery(e),p=r.observable(!1),h=!1;r.applyBindingAccessorsToNode(e,{css:function(){var e,t=(_defineProperty(e={},o,!0),_defineProperty(e,d,p),e);return void 0!==r.unwrap(null==f?void 0:f.optionsCaption)&&(t[l]=r.computed((function(){return f.hasOwnProperty("csDelayedValue")?void 0===r.unwrap(null==f?void 0:f.csDelayedValue):void 0===r.unwrap(null==f?void 0:f.value)})),t[s]=!0,t[u]=r.unwrap(null==c?void 0:c.hidePlaceholder)),t},attr:function(){if(r.unwrap(null==f?void 0:f.optionsCaption))return{"aria-placeholder":null==f?void 0:f.optionsCaption}}},a);var g=function(e){p(null!=e?e:!p())};v.on("mouseup",(function(e){h||g()}));var w=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;v.keydown((function(e){var t=e.which?e.which:e.keyCode;(32===t||!w&&13===t)&&g()})),v.on("blur",(function(){g(!1)})),v.on("change",(function(e){h=!0,g(!1),Promise.resolve().then((function(){h=!1}))})),jQuery(document).keyup((function(e){27===(e.which?e.which:e.keyCode)&&p()&&g(!1)}))}},r.bindingHandlers.for={makeTemplateValueAccessor:function(e){var t=e(),n=r.utils.peekObservable(t),i=!1;n&&"number"!=typeof n.length?r.utils.unwrapObservable(t):i=!0;var a={foreach:i?t:n.data,as:"__CS$_for_context",noChildContext:!0,templateEngine:new r.nativeTemplateEngine};return i||(a[l]=n[l],a[s]=n[s],a[d]=n[d],a[u]=n[u],a[c]=n[c],a[f]=n[f],a[v]=n[v],a[p]=n[p],n[h]&&(a.name=n[h])),a},makeTemplateBindingContext:function(e,t){var n=e.extend({}),r=n.createChildContext;return Object.defineProperty(n,"createChildContext",{value:function(e,n){if(n&&"__CS$_for_context"===n.as){var i={};n.extend(i);var a=t.item||"$item",o=t.index||"$index",l={};return l[a]=e,l[o]=i.$index,this.extend(l)}var s=Array.prototype.slice.call(arguments);return r.apply(this,s)},writable:!1,configurable:!1,enumerable:!1}),n},init:function(e,t,n,o,l){var s=r.bindingHandlers[i].makeTemplateValueAccessor(t),d=r.bindingHandlers[i].makeTemplateBindingContext(l,s);return r.bindingHandlers[a].init(e,(function(){return s}),n,o,d)},update:function(e,t,n,o,l){var s=r.bindingHandlers[i].makeTemplateValueAccessor(t),d=r.bindingHandlers[i].makeTemplateBindingContext(l,s);r.bindingHandlers[a].update(e,(function(){return s}),n,o,d)}},r.expressionRewriting.bindingRewriteValidators[i]=!1,r.virtualElements.allowedBindings[i]=!0,r.bindingHandlers.csSearchbox={init:function(t,n,i,a,o){var l=n();if(l){var s=l.options,d=l.optionsText,u=l.optionsValue,c=l.optionsGroup,f=l.placeholder,v=l.value,p=l.enable,h=l.formatSelection,g=l.formatResult,w=l.itemTemplate,b=!0===l.multiSelect,m=b&&!0===l.selectOnePerGroup,y=!1!==l.closeOnSelect,C=l.dropdownParent?jQuery(document.body).find(l.dropdownParent):jQuery(document.body).find(".cs-content-wrapper").length>0?jQuery(document.body).find(".cs-content-wrapper"):jQuery(document.body),$=l.matcher?l.matcher:null,E=l.search?l.search:null,x={multiple:b,closeOnSelect:y,dropdownParent:C,placeholder:f,minimumInputLength:0,language:{searching:function(){return"Zoeken..."},inputTooShort:function(){return"Typ meer om te zoeken"},noResults:function(){return"Geen resultaat gevonden"},errorLoading:function(){return"Er is iets misgegaan"}},ajax:{url:"urn:custom",type:"POST",dataType:"json",contentType:"application/json; charset=utf-8",delay:0,data:function(e){return e},processResults:function(e,t){var n={results:[],pagination:{more:!1}};if(e&&e.length)if(c){for(var r={},i=0;i<e.length;i++){var a=e[i],o=a[c];r[o]||(r[o]=[]),r[o].push({id:a[u],text:a[d],originalItem:a})}for(var l in r)r.hasOwnProperty(l)&&n.results.push({text:l,children:r[l]})}else for(var s=0;s<e.length;s++){var f=e[s];n.results.push({id:f[u],text:f[d],originalItem:f})}return n},cache:!0,transport:function(t,n,i){var a=new Promise((function(e,n){var i=r.unwrap(s);if(t.data.term)if(E){var a=[];if(i&&i.length)for(var o=0;o<i.length;o++){var l=i[o];E(l,t.data.term)&&a.push(l)}e(a)}else{var c=t.data.term.toLowerCase(),f=[];if(i&&i.length)for(var v=0;v<i.length;v++){var p=i[v];(p[u]&&p[u].toLowerCase().indexOf(c)>=0||p[d]&&p[d].toLowerCase().indexOf(c)>=0)&&f.push(p)}e(f)}else e(i)}));return a.then(n),a.catch((function(t){e.PageManager.logError(t),i.apply(this,arguments)})),a}},templateSelection:function(e){var t=e;if(h){var n=S(t);if(n)return h(n)}return t.text},templateResult:function(e){var n=e;if(n.loading)return n.text;var i=e;if(w&&!c){var a=document.createElement("DIV"),o=r.contextFor(t);return r.applyBindingsToNode(a,{template:{name:w,data:i.originalItem,templateEngine:new r.nativeTemplateEngine}},o),a}if(g){var l=S(i);if(l)return g(l)}return i.text}},S=function(e){if(e&&e.originalItem)return e.originalItem;for(var t=r.unwrap(s),n=0;t&&n<t.length;n++){var i=t[n];if(i[u]===e.id)return i}};$&&$ instanceof Function&&(x.matcher=$);var k=jQuery(t),A=k.select2(x).maximizeSelect2Height();if(m&&(k.on("select2:selecting",(function(e){var t,n,r,i=null===(r=null===(n=null===(t=e.params)||void 0===t?void 0:t.args)||void 0===n?void 0:n.data)||void 0===r?void 0:r.originalItem,a=i[c],o=k.select2("data").map((function(e){return Object.assign(Object.assign({},e),{originalItem:S(e)})})),l=[];i.dataAllowSelectMultiple||!1||(o.forEach((function(e){(null==e?void 0:e.originalItem[c])!==a&&l.push(e.id)})),k.val(l))})),k.on("select2:select",(function(e){var t=e.params.data.id,n=jQuery(e.target).children("[value="+t+"]");n.detach(),jQuery(e.target).append(n).change()}))),!1===y&&(k.on("select2:unselecting select2:selecting",(function(e){jQuery(e.currentTarget).data("scrolltop",jQuery(".select2-results__options").scrollTop())})),k.on("select2:unselect select2:select",(function(e){jQuery(".select2-results__options").scrollTop(jQuery(e.currentTarget).data("scrolltop"))}))),!1===p)k.prop("disabled",!0);else if(r.isObservable(p)){!1===p()&&k.prop("disabled",!0);var I=p.subscribe((function(e){k.prop("disabled",!e)}));r.utils.domNodeDisposal.addDisposeCallback(t,(function(){I.dispose()}))}var O=function(e){k[0].options.length=0,"string"!=typeof e&&e&&"number"==typeof e.length||(e=[e]);var t=[],n=[],i=r.unwrap(s);if(i&&i.length)for(var a=0;a<i.length;a++)for(var o=i[a],l=0;l<e.length;l++)if(o[u]===e[l]){var c=document.createElement("option");c.value=o[u],c.innerText=o[d],n.push(c),t.push(o[u])}k.append(n).val(t).trigger("change")};if(v&&r.isObservable(v)){var j=r.unwrap(v);j&&O(j);var M=!1,T=null,_=function(){if(T)throw new Error("out-of-sync");T=v.subscribe((function(e){M=!0,O(e),M=!1}))};_(),r.utils.domNodeDisposal.addDisposeCallback(t,(function(){T&&(T.dispose(),T=null)})),A.on("change.select2",(function(e){if(!M){var t=k.val();T&&(T.dispose(),T=null),v(t),_()}}))}var H=i.get("value");if(H){var P;if(r.isObservable(H)){P=r.unwrap(H);var D=H.subscribe((function(e){O(e)}));r.utils.domNodeDisposal.addDisposeCallback(t,(function(){D.dispose()}))}else P=H;P&&O(P)}}}},r.bindingHandlers.cdfToHtml={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n,i,a,o){for(;t.lastChild;)t.removeChild(t.lastChild);var l=r.unwrap(n());if(l){var s=e.CommonDocumentFormat.parseJsonXmlToHtml(l);if(s)for(var d=0;d<s.length;d++)t.appendChild(s[d])}}},r.bindingHandlers.csLinkText={init:function(){return{controlsDescendantBindings:!0}},update:function(t,n,i,a,o){for(;t.lastChild;)t.removeChild(t.lastChild);var l=e.Client.linkTextToElement(r.unwrap(n()));t.appendChild(l)}},r.bindingHandlers.csStyle={styleToObject:function(e){var t={};if(e&&"string"==typeof e)for(var n=e.split(";"),r=0;r<n.length;r++){var i=n[r];if(i.trim()){var a=i.indexOf(":");if(a<0)throw new Error("Unknown style directive: "+i);var o=i.substring(0,a).trim(),l=i.substring(a+1).trim();t[o]=l}}return t},update:function(e,t,n,i,a){r.bindingHandlers.style.update(e,(function(){var e=r.unwrap(t());return r.bindingHandlers.csStyle.styleToObject(e)}),n,i,a)}},r.bindingHandlers.csVisible={update:function(e,t,n,i,a){var o=r.unwrap(t());r.utils.toggleDomNodeCssClass(e,"cs-d-none",!o),e.style.display=o?"":"none"}};var b={array:{},observable:{}},m=e.ModuleManager.importSync("ChipSoft/KnockoutSecureBinding/Parser"),y=e.ModuleManager.importSync("ChipSoft/KnockoutSecureBinding/Node"),C=new m.Parser;e.ko.filter=function(t,n,i){if("[object Array]"===Object.prototype.toString.call(t)){var a=t,o=null;if(b.array.hasOwnProperty(n))o=b.array[n];else{var l=C.parseExpression(n);o=function(t){return y.Node.value_of(l,t,{ChipSoft:e,JSON:JSON},null)},b.array[n]=o}if(!a||0===a.length)return[];for(var s=[],d=0;d<a.length;d++){o(i.createChildContext(a[d]))&&s.push(a[d])}return s}if(r.isObservable(t)){if(!("push"in t))throw new Error("array is not an observable array");var u=t,c=null;if(b.observable.hasOwnProperty(n))c=b.observable[n];else{var f=C.parseExpression(n);c=function(t){return y.Node.value_of(f,t,{ChipSoft:e,JSON:JSON},null)},b.observable[n]=c}return u.filter(c)}}},t.filter=function(e,t,n){return null},t.isFirst=function(e,t){var n=r.unwrap(t);return!(e.length<=0)&&0===n},t.isFirstAndNotSingle=function(e,t){var n=r.unwrap(t);return!(e.length<=1)&&0===n},t.isLast=function(e,t){var n=r.unwrap(t);return!(e.length<=0)&&n===e.length-1},t.isLastAndNotSingle=function(e,t){var n=r.unwrap(t);return!(e.length<=1)&&n===e.length-1},t.isSingle=function(e,t){var n=r.unwrap(t);return 1===e.length&&0===n},t.cartesianProduct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.reduce.call(t,(function(e,t){return e.map((function(e){return t.map((function(t){return e.concat(t)}))})).reduce((function(e,t){return e.concat(t)}),[])}),[[]])},t.chunkArray=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(!n)return[];var a=r.isObservable(e);if(a)for(var o=0;o<n.length;o++)if(r.isObservable(n[o])){a=!0;break}var l=function(){var t=[],i=0;if(r.isObservable(e)&&(e=e()),(e=e&&"number"==typeof e?e:0)>0)for(var a=0;a<n.length;a++){var o=n[a];if(r.isObservable(o)&&(o=o()),o&&o.length)for(var l=0;l<o.length;l++)i%e==0&&t.push([]),t[t.length-1].push(o[l]),i++}else{t.push([]);for(var s=0;s<n.length;s++){var d=n[s];if(d&&d.length)for(var u=0;u<d.length;u++)t[0].push(d[u])}}return t};return a?r.pureComputed((function(){return l()})):l()},t.mergeStyles=function(){var t;return(t=e.Client).mergeStyles.apply(t,arguments)},t.mergeClasses=function(){var t;return(t=e.Client).mergeClasses.apply(t,arguments)},t.isSameDay=function(){var t;return(t=e.Client).isSameDay.apply(t,arguments)},t.getWeek=function(t){return e.Client.getWeek(t||new Date)},t.isSameWeek=function(){var t;return(t=e.Client).isSameWeek.apply(t,arguments)},t.isSameMonth=function(){var t;return(t=e.Client).isSameMonth.apply(t,arguments)},t.isSameYear=function(){var t;return(t=e.Client).isSameYear.apply(t,arguments)},t.scrollToElementById=function(e,t){t||(t="center"),document.getElementById(e).scrollIntoView({behavior:"smooth",block:t})},t.getFieldCommand=function(t,n){if(!(t instanceof e.Views.ItemFieldNode))throw new Error("Not an item field node");if(!n)return null;for(var r=null,i=t.nav.parent.nav.parent.commands.commandRef(),a=0;a<i.length;a++)if(i[a].attr.name===n){r=i[a];break}return r},t.unwrap=function(e){return r.unwrap(e)},t.ternary=function(e,t,n,i){var a=r.unwrap(e);return t(a)?n(a):i(a)},t.createObjectValueFromViewItem=function(t){var n=t.nav.viewNode.attr[e.Views.ViewNodeAttributes.selectionDisplayValueField],r="hixobjref:"+JSON.stringify(t.objectId),i="";return n&&t.fields[n]?i=t.fields[n].attr[e.Views.ItemFieldNodeAttributes.value]:t.objectId.ObjectIds&&(i=t.objectId.ObjectIds.join(",")),new e.Core.KeyValuePair(r,i)},r.bindingHandlers.qrCode={init:function(){return{controlsDescendantBindings:!0}},update:function(e,t,n,i,a){for(;e.lastChild;)e.removeChild(e.lastChild);var o=r.unwrap(t());o&&new QRCode(e,o)}},r.bindingHandlers.csUserSurveyHost={init:function(n,i,a,o,l){var s=t.unwrap(i()),d=n,u=s.onTrigger((function(t){var n=e.PageManager.getAllComponents().find((function(e){return e.viewModel&&e.viewModel.isQuestionnaireUserSurveyPageWebPart}));if(n){var r=n.viewModel;if(r.canTrigger(t)){var i=document.getElementById(n.viewModel.clientId);i.parentNode.removeChild(i),d.appendChild(i),r.trigger(t)}}}));r.utils.domNodeDisposal.addDisposeCallback(n,(function(){u.dispose()}))}},r.bindingHandlers.csVirtualPageFrame={_csCounter:0,init:function(e,n,i,a,o){var l=t.unwrap(n());if(l){var s=e,d=document.createElement("iframe");d.src="about:blank",d.name="csPostToFrame_"+r.bindingHandlers.csVirtualPageFrame._csCounter++,d.className="cs-virtualpage",d.addEventListener("load",(function(){var e,t;(null===(t=null===(e=d.contentWindow)||void 0===e?void 0:e.ChipSoft)||void 0===t?void 0:t.Core)&&d.contentWindow.ChipSoft.Core.registerActionResultCallback((function(e){var t;null===(t=l.resolve)||void 0===t||t.call(l,e),d.parentElement.removeChild(d)}))})),r.virtualElements.prepend(s,d),(d.csPost=function(){var e=document.createElement("form");for(var t in e.target=d.name,e.method="POST",e.action=l.src,l.values)if(l.values.hasOwnProperty(t)){var n=document.createElement("input");n.name=t,n.type="hidden",n.value=l.values[t],e.appendChild(n)}document.body.appendChild(e),e.submit(),document.body.removeChild(e)})()}}},r.virtualElements.allowedBindings.csVirtualPageFrame=!0,t.join=function(e,t){return null==e?void 0:e.join(t)}}(e.ko||(e.ko={}))}(ChipSoft||(ChipSoft=window.ChipSoft={})); }ko_utils_mds();